import{r as i,I as lr,E as gr,C as or,P as Wt,q as hr,s as yr,u as br,D as A,a as ir,b as Te,O as N,f as ue,m as D,h as Ye,d as He,t as wr,c as Sr,Z as Mt,R as Cr,e as xr,F as Ut,T as ur,g as Or,l as qt,p as Ir,k as Er,o as T}from"./index-d2019b9c.js";import{H as Pr}from"./Header-373df5dd.js";import{S as Rr,T as Fr,B as Je}from"./button.esm-fc5acb7a.js";import{P as Tr}from"./panel.esm-82be964f.js";function Kt(){return Kt=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},Kt.apply(this,arguments)}var sr=i.memo(i.forwardRef(function(r,a){var t=lr.getPTI(r);return i.createElement("svg",Kt({ref:a,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))}));sr.displayName="ChevronDownIcon";var Lr=gr();function Ht(){return Ht=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},Ht.apply(this,arguments)}function Nr(r){if(Array.isArray(r))return r}function Dr(r,a){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var e,d,p,c,s=[],w=!0,L=!1;try{if(p=(t=t.call(r)).next,a===0){if(Object(t)!==t)return;w=!1}else for(;!(w=(e=p.call(t)).done)&&(s.push(e.value),s.length!==a);w=!0);}catch(g){L=!0,d=g}finally{try{if(!w&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(L)throw d}}return s}}function Jt(r,a){(a==null||a>r.length)&&(a=r.length);for(var t=0,e=new Array(a);t<a;t++)e[t]=r[t];return e}function jr(r,a){if(r){if(typeof r=="string")return Jt(r,a);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jt(r,a)}}function kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ar(r,a){return Nr(r)||Dr(r,a)||jr(r,a)||kr()}function ge(r){"@babel/helpers - typeof";return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ge(r)}function zr(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function Mr(r,a){if(ge(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var e=t.call(r,a||"default");if(ge(e)!=="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function $r(r){var a=Mr(r,"string");return ge(a)==="symbol"?a:String(a)}function Yt(r,a){for(var t=0;t<a.length;t++){var e=a[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,$r(e.key),e)}}function Vr(r,a,t){return a&&Yt(r.prototype,a),t&&Yt(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}var Kr=function(){function r(){zr(this,r)}return Vr(r,null,[{key:"equals",value:function(t,e,d){return d&&t&&ge(t)==="object"&&e&&ge(e)==="object"?this.resolveFieldData(t,d)===this.resolveFieldData(e,d):this.deepEquals(t,e)}},{key:"deepEquals",value:function(t,e){if(t===e)return!0;if(t&&e&&ge(t)=="object"&&ge(e)=="object"){var d=Array.isArray(t),p=Array.isArray(e),c,s,w;if(d&&p){if(s=t.length,s!==e.length)return!1;for(c=s;c--!==0;)if(!this.deepEquals(t[c],e[c]))return!1;return!0}if(d!==p)return!1;var L=t instanceof Date,g=e instanceof Date;if(L!==g)return!1;if(L&&g)return t.getTime()===e.getTime();var Z=t instanceof RegExp,ne=e instanceof RegExp;if(Z!==ne)return!1;if(Z&&ne)return t.toString()===e.toString();var X=Object.keys(t);if(s=X.length,s!==Object.keys(e).length)return!1;for(c=s;c--!==0;)if(!Object.prototype.hasOwnProperty.call(e,X[c]))return!1;for(c=s;c--!==0;)if(w=X[c],!this.deepEquals(t[w],e[w]))return!1;return!0}return t!==t&&e!==e}},{key:"resolveFieldData",value:function(t,e){if(t&&Object.keys(t).length&&e){if(this.isFunction(e))return e(t);if(r.isNotEmpty(t[e]))return t[e];if(e.indexOf(".")===-1)return t[e];for(var d=e.split("."),p=t,c=0,s=d.length;c<s;++c){if(p==null)return null;p=p[d[c]]}return p}else return null}},{key:"isFunction",value:function(t){return!!(t&&t.constructor&&t.call&&t.apply)}},{key:"isObject",value:function(t){return t!==null&&t instanceof Object&&t.constructor===Object}},{key:"isLetter",value:function(t){return t&&(t.toUpperCase()!=t.toLowerCase()||t.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(t,e){return!t||!e?{}:Object.keys(t).filter(function(d){return!e.hasOwnProperty(d)}).reduce(function(d,p){return d[p]=t[p],d},{})}},{key:"reduceKeys",value:function(t,e){var d={};return!t||!e||e.length===0||Object.keys(t).filter(function(p){return e.some(function(c){return p.startsWith(c)})}).forEach(function(p){d[p]=t[p],delete t[p]}),d}},{key:"reorderArray",value:function(t,e,d){t&&e!==d&&(d>=t.length&&(d%=t.length,e%=t.length),t.splice(d,0,t.splice(e,1)[0]))}},{key:"findIndexInList",value:function(t,e,d){var p=this;return e?d?e.findIndex(function(c){return p.equals(c,t,d)}):e.findIndex(function(c){return c===t}):-1}},{key:"getJSXElement",value:function(t){for(var e=arguments.length,d=new Array(e>1?e-1:0),p=1;p<e;p++)d[p-1]=arguments[p];return this.isFunction(t)?t.apply(void 0,d):t}},{key:"getProp",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=t?t[e]:void 0;return p===void 0?d[e]:p}},{key:"getMergedProps",value:function(t,e){return Object.assign({},e,t)}},{key:"getDiffProps",value:function(t,e){return this.findDiffKeys(t,e)}},{key:"getPropValue",value:function(t){for(var e=arguments.length,d=new Array(e>1?e-1:0),p=1;p<e;p++)d[p-1]=arguments[p];return this.isFunction(t)?t.apply(void 0,d):t}},{key:"getComponentProp",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(t)?this.getProp(t.props,e,d):void 0}},{key:"getComponentProps",value:function(t,e){return this.isNotEmpty(t)?this.getMergedProps(t.props,e):void 0}},{key:"getComponentDiffProps",value:function(t,e){return this.isNotEmpty(t)?this.getDiffProps(t.props,e):void 0}},{key:"isValidChild",value:function(t,e,d){if(t){var p=this.getComponentProp(t,"__TYPE")||(t.type?t.type.displayName:void 0),c=p===e;try{var s}catch{}return c}return!1}},{key:"getRefElement",value:function(t){return t?ge(t)==="object"&&t.hasOwnProperty("current")?t.current:t:null}},{key:"combinedRefs",value:function(t,e){t&&e&&(typeof e=="function"?e(t.current):e.current=t.current)}},{key:"removeAccents",value:function(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}},{key:"convertToFlatCase",value:function(t){return this.isNotEmpty(t)&&typeof t=="string"?t.replace(/(-|_)/g,"").toLowerCase():t}},{key:"isEmpty",value:function(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&ge(t)==="object"&&Object.keys(t).length===0}},{key:"isNotEmpty",value:function(t){return!this.isEmpty(t)}},{key:"sort",value:function(t,e){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s=r.compare(t,e,p,d),w=d;return(r.isEmpty(t)||r.isEmpty(e))&&(w=c===1?d:c),w*s}},{key:"compare",value:function(t,e,d){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,c=-1,s=r.isEmpty(t),w=r.isEmpty(e);return s&&w?c=0:s?c=p:w?c=-p:typeof t=="string"&&typeof e=="string"?c=t.localeCompare(e,d,{numeric:!0}):c=t<e?-1:t>e?1:0,c}}]),r}(),Zt=0;function Hr(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return Zt++,"".concat(r).concat(Zt)}var cr=i.memo(i.forwardRef(function(r,a){var t=lr.getPTI(r),e=i.useState(r.id),d=Ar(e,2),p=d[0],c=d[1];return i.useEffect(function(){Kr.isEmpty(p)&&c(Hr("pr_icon_clip_"))},[p]),i.createElement("svg",Ht({ref:a,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i.createElement("g",{clipPath:"url(#".concat(p,")")},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"})),i.createElement("defs",null,i.createElement("clipPath",{id:p},i.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));cr.displayName="SearchIcon";function Gt(){return Gt=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},Gt.apply(this,arguments)}function Ze(r){"@babel/helpers - typeof";return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ze(r)}function Gr(r,a){if(Ze(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var e=t.call(r,a||"default");if(Ze(e)!=="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function Br(r){var a=Gr(r,"string");return Ze(a)==="symbol"?a:String(a)}function fr(r,a,t){return a=Br(a),a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t,r}function Wr(r){if(Array.isArray(r))return r}function _r(r,a){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var e,d,p,c,s=[],w=!0,L=!1;try{if(p=(t=t.call(r)).next,a===0){if(Object(t)!==t)return;w=!1}else for(;!(w=(e=p.call(t)).done)&&(s.push(e.value),s.length!==a);w=!0);}catch(g){L=!0,d=g}finally{try{if(!w&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(L)throw d}}return s}}function Qt(r,a){(a==null||a>r.length)&&(a=r.length);for(var t=0,e=new Array(a);t<a;t++)e[t]=r[t];return e}function Xr(r,a){if(r){if(typeof r=="string")return Qt(r,a);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qt(r,a)}}function Ur(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oe(r,a){return Wr(r)||_r(r,a)||Xr(r,a)||Ur()}var $t=or.extend({defaultProps:{__TYPE:"VirtualScroller",id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0}});function er(r,a){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);a&&(e=e.filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable})),t.push.apply(t,e)}return t}function Ve(r){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?er(Object(t),!0).forEach(function(e){fr(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}var dr=i.memo(i.forwardRef(function(r,a){var t=i.useContext(Wt),e=$t.getProps(r,t),d=hr(r)||{},p=e.orientation==="vertical",c=e.orientation==="horizontal",s=e.orientation==="both",w=i.useState(s?{rows:0,cols:0}:0),L=Oe(w,2),g=L[0],Z=L[1],ne=i.useState(s?{rows:0,cols:0}:0),X=Oe(ne,2),x=X[0],Ce=X[1],Le=i.useState(0),K=Oe(Le,2),le=K[0],U=K[1],F=i.useState(s?{rows:0,cols:0}:0),y=Oe(F,2),S=y[0],z=y[1],P=i.useState(e.numToleratedItems),H=Oe(P,2),R=H[0],G=H[1],te=i.useState(e.loading||!1),Q=Oe(te,2),M=Q[0],b=Q[1],h=i.useState([]),$=Oe(h,2),j=$[0],_=$[1],ae=$t.setMetaData({props:e,state:{first:g,last:x,page:le,numItemsInViewport:S,numToleratedItems:R,loading:M,loaderArr:j}}),V=ae.ptm,O=i.useRef(null),k=i.useRef(null),Ne=i.useRef(null),B=i.useRef(null),Y=i.useRef(s?{top:0,left:0}:0),Ie=i.useRef(null),Ee=i.useRef(null),he=i.useRef({}),ye=i.useRef({}),oe=i.useRef(null),be=i.useRef(null),Pe=i.useRef(null),se=i.useRef(null),ce=i.useRef(!1),Re=i.useRef(null),vt=yr({listener:function(l){return ot()},when:!e.disabled}),gt=Oe(vt,1),ht=gt[0],yt=br({target:"window",type:"orientationchange",listener:function(l){return ot()},when:!e.disabled}),Be=Oe(yt,1),bt=Be[0],ke=function(){return O},we=function(l){return Math.floor((l+R*4)/(e.step||1))},et=function(l){k.current=l||k.current||A.findSingle(O.current,".p-virtualscroller-content")},Ae=function(l){return e.step?le!==we(l):!0},We=function(l){Y.current=s?{top:0,left:0}:0,O.current&&O.current.scrollTo(l)},Fe=function(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",o=rt(),u=o.numToleratedItems,f=ie(),m=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,me=arguments.length>1?arguments[1]:void 0;return re<=me?0:re},v=function(re,me,De){return re*me+De},I=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return We({left:re,top:me,behavior:n})},E=s?{rows:0,cols:0}:0,W=!1;s?(E={rows:m(l[0],u[0]),cols:m(l[1],u[1])},I(v(E.cols,e.itemSize[1],f.left),v(E.rows,e.itemSize[0],f.top)),W=g.rows!==E.rows||g.cols!==E.cols):(E=m(l,u),c?I(v(E,e.itemSize,f.left),0):I(0,v(E,e.itemSize,f.top)),W=g!==E),ce.current=W,Z(E)},fe=function(l,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var u=tt(),f=u.first,m=u.viewport,v=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return We({left:me,top:De,behavior:o})},I=n==="to-start",E=n==="to-end";if(I){if(s)m.first.rows-f.rows>l[0]?v(m.first.cols*e.itemSize[1],(m.first.rows-1)*e.itemSize[0]):m.first.cols-f.cols>l[1]&&v((m.first.cols-1)*e.itemSize[1],m.first.rows*e.itemSize[0]);else if(m.first-f>l){var W=(m.first-1)*e.itemSize;c?v(W,0):v(0,W)}}else if(E){if(s)m.last.rows-f.rows<=l[0]+1?v(m.first.cols*e.itemSize[1],(m.first.rows+1)*e.itemSize[0]):m.last.cols-f.cols<=l[1]+1&&v((m.first.cols+1)*e.itemSize[1],m.first.rows*e.itemSize[0]);else if(m.last-f<=l+1){var ee=(m.first+1)*e.itemSize;c?v(ee,0):v(0,ee)}}}else Fe(l,o)},wt=function(){return M?e.loaderDisabled?j:[]:Ue()},St=function(){return e.columns&&s||c?M&&e.loaderDisabled?s?j[0]:j:e.columns.slice(s?g.cols:g,s?x.cols:x):e.columns},tt=function(){var l=function(E,W){return Math.floor(E/(W||E))},n=g,o=0;if(O.current){var u=O.current,f=u.scrollTop,m=u.scrollLeft;if(s)n={rows:l(f,e.itemSize[0]),cols:l(m,e.itemSize[1])},o={rows:n.rows+S.rows,cols:n.cols+S.cols};else{var v=c?m:f;n=l(v,e.itemSize),o=n+S}}return{first:g,last:x,viewport:{first:n,last:o}}},rt=function(){var l=ie(),n=O.current?O.current.offsetWidth-l.left:0,o=O.current?O.current.offsetHeight-l.top:0,u=function(E,W){return Math.ceil(E/(W||E))},f=function(E){return Math.ceil(E/2)},m=s?{rows:u(o,e.itemSize[0]),cols:u(n,e.itemSize[1])}:u(c?n:o,e.itemSize),v=R||(s?[f(m.rows),f(m.cols)]:f(m));return{numItemsInViewport:m,numToleratedItems:v}},nt=function(){var l=rt(),n=l.numItemsInViewport,o=l.numToleratedItems,u=function(v,I,E){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return _e(v+I+(v<E?2:3)*E,W)},f=s?{rows:u(g.rows,n.rows,o[0]),cols:u(g.cols,n.cols,o[1],!0)}:u(g,n,o);z(n),G(o),Ce(f),e.showLoader&&_(s?Array.from({length:n.rows}).map(function(){return Array.from({length:n.cols})}):Array.from({length:n})),e.lazy&&Promise.resolve().then(function(){Re.current={first:e.step?s?{rows:0,cols:g.cols}:0:g,last:Math.min(e.step?e.step:f,e.items.length)},e.onLazyLoad&&e.onLazyLoad(Re.current)})},Ct=function(l){e.autoSize&&!l&&Promise.resolve().then(function(){if(k.current){k.current.style.minHeight=k.current.style.minWidth="auto",k.current.style.position="relative",O.current.style.contain="none";var n=[A.getWidth(O.current),A.getHeight(O.current)],o=n[0],u=n[1];(s||c)&&(O.current.style.width=(o<oe.current?o:e.scrollWidth||oe.current)+"px"),(s||p)&&(O.current.style.height=(u<be.current?u:e.scrollHeight||be.current)+"px"),k.current.style.minHeight=k.current.style.minWidth="",k.current.style.position="",O.current.style.contain=""}})},_e=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return e.items?Math.min(n?(e.columns||e.items[0]).length:e.items.length,l):0},ie=function(){if(k.current){var l=getComputedStyle(k.current),n=parseFloat(l.paddingLeft)+Math.max(parseFloat(l.left)||0,0),o=parseFloat(l.paddingRight)+Math.max(parseFloat(l.right)||0,0),u=parseFloat(l.paddingTop)+Math.max(parseFloat(l.top)||0,0),f=parseFloat(l.paddingBottom)+Math.max(parseFloat(l.bottom)||0,0);return{left:n,right:o,top:u,bottom:f,x:n+o,y:u+f}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},ze=function(){if(O.current){var l=O.current.parentElement,n=e.scrollWidth||"".concat(O.current.offsetWidth||l.offsetWidth,"px"),o=e.scrollHeight||"".concat(O.current.offsetHeight||l.offsetHeight,"px"),u=function(m,v){return O.current.style[m]=v};s||c?(u("height",o),u("width",n)):u("height",o)}},xt=function(){var l=e.items;if(l){var n=ie(),o=function(f,m,v){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return ye.current=Ve(Ve({},ye.current),fr({},"".concat(f),(m||[]).length*v+I+"px"))};s?(o("height",l,e.itemSize[0],n.y),o("width",e.columns||l[1],e.itemSize[1],n.x)):c?o("width",e.columns||l,e.itemSize,n.x):o("height",l,e.itemSize,n.y)}},Xe=function(l){if(k.current&&!e.appendOnly){var n=l?l.first:g,o=function(v,I){return v*I},u=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;B.current&&(B.current.style.top="-".concat(I,"px")),he.current=Ve(Ve({},he.current),{transform:"translate3d(".concat(v,"px, ").concat(I,"px, 0)")})};if(s)u(o(n.cols,e.itemSize[1]),o(n.rows,e.itemSize[0]));else{var f=o(n,e.itemSize);c?u(f,0):u(0,f)}}},at=function(l){var n=l.target,o=ie(),u=function(J,ve){return J?J>ve?J-ve:J:0},f=function(J,ve){return Math.floor(J/(ve||J))},m=function(J,ve,qe,dt,xe,je){return J<=xe?xe:je?qe-dt-xe:ve+xe-1},v=function(J,ve,qe,dt,xe,je,pt){return J<=je?0:Math.max(0,pt?J<ve?qe:J-je:J>ve?qe:J-2*je)},I=function(J,ve,qe,dt,xe,je){var pt=ve+dt+2*xe;return J>=xe&&(pt+=xe+1),_e(pt,je)},E=u(n.scrollTop,o.top),W=u(n.scrollLeft,o.left),ee=s?{rows:0,cols:0}:0,re=x,me=!1,De=Y.current;if(s){var Dt=Y.current.top<=E,jt=Y.current.left<=W;if(!e.appendOnly||e.appendOnly&&(Dt||jt)){var $e={rows:f(E,e.itemSize[0]),cols:f(W,e.itemSize[1])},Xt={rows:m($e.rows,g.rows,x.rows,S.rows,R[0],Dt),cols:m($e.cols,g.cols,x.cols,S.cols,R[1],jt)};ee={rows:v($e.rows,Xt.rows,g.rows,x.rows,S.rows,R[0],Dt),cols:v($e.cols,Xt.cols,g.cols,x.cols,S.cols,R[1],jt)},re={rows:I($e.rows,ee.rows,x.rows,S.rows,R[0]),cols:I($e.cols,ee.cols,x.cols,S.cols,R[1],!0)},me=ee.rows!==g.rows||re.rows!==x.rows||ee.cols!==g.cols||re.cols!==x.cols||ce.current,De={top:E,left:W}}}else{var kt=c?W:E,At=Y.current<=kt;if(!e.appendOnly||e.appendOnly&&At){var zt=f(kt,e.itemSize),vr=m(zt,g,x,S,R,At);ee=v(zt,vr,g,x,S,R,At),re=I(zt,ee,x,S,R),me=ee!==g||re!==x||ce.current,De=kt}}return{first:ee,last:re,isRangeChanged:me,scrollPos:De}},lt=function(l){var n=at(l),o=n.first,u=n.last,f=n.isRangeChanged,m=n.scrollPos;if(f){var v={first:o,last:u};if(Xe(v),Z(o),Ce(u),Y.current=m,e.onScrollIndexChange&&e.onScrollIndexChange(v),e.lazy&&Ae(o)){var I={first:e.step?Math.min(we(o)*e.step,e.items.length-e.step):o,last:Math.min(e.step?(we(o)+1)*e.step:u,e.items.length)},E=!Re.current||Re.current.first!==I.first||Re.current.last!==I.last;E&&e.onLazyLoad&&e.onLazyLoad(I),Re.current=I}}},de=function(l){if(e.onScroll&&e.onScroll(l),e.delay){if(Ie.current&&clearTimeout(Ie.current),Ae(g)){if(!M&&e.showLoader){var n=at(l),o=n.isRangeChanged,u=o||(e.step?Ae(g):!1);u&&b(!0)}Ie.current=setTimeout(function(){lt(l),M&&e.showLoader&&(!e.lazy||e.loading===void 0)&&(b(!1),U(we(g)))},e.delay)}}else lt(l)},ot=function(){Ee.current&&clearTimeout(Ee.current),Ee.current=setTimeout(function(){if(O.current){var l=[A.getWidth(O.current),A.getHeight(O.current)],n=l[0],o=l[1],u=n!==oe.current,f=o!==be.current,m=s?u||f:c?u:p?f:!1;m&&(G(e.numToleratedItems),oe.current=n,be.current=o,Pe.current=A.getWidth(k.current),se.current=A.getHeight(k.current))}},e.resizeDelay)},it=function(l){var n=(e.items||[]).length,o=s?g.rows+l:g+l;return{index:o,count:n,first:o===0,last:o===n-1,even:o%2===0,odd:o%2!==0,props:e}},ut=function(l,n){var o=j.length;return Ve({index:l,count:o,first:l===0,last:l===o-1,even:l%2===0,odd:l%2!==0,props:e},n)},Ue=function(){var l=e.items;return l&&!M?s?l.slice(e.appendOnly?0:g.rows,x.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:g.cols,x.cols)}):c&&e.columns?l:l.slice(e.appendOnly?0:g,x):[]},Ot=function(){O.current&&A.isVisible(O.current)&&(et(k.current),Me(),ht(),bt(),oe.current=A.getWidth(O.current),be.current=A.getHeight(O.current),Pe.current=A.getWidth(k.current),se.current=A.getHeight(k.current))},Me=function(){e.disabled||(ze(),nt(),xt())};ir(function(){Ot()}),Te(function(){Me()},[e.itemSize,e.scrollHeight,e.scrollWidth]),Te(function(){e.numToleratedItems!==R&&G(e.numToleratedItems)},[e.numToleratedItems]),Te(function(){e.numToleratedItems===R&&Me()},[R]),Te(function(){(!d.items||d.items.length!==(e.items||[]).length)&&Me();var C=M;e.lazy&&d.loading!==e.loading&&e.loading!==M&&(b(e.loading),C=e.loading),Ct(C)}),Te(function(){Y.current=s?{top:0,left:0}:0},[e.orientation]),i.useImperativeHandle(a,function(){return{props:e,getElementRef:ke,scrollTo:We,scrollToIndex:Fe,scrollInView:fe,getRenderedRange:tt}});var It=function(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=ut(l,n),u=N.getJSXElement(e.loadingTemplate,o);return i.createElement(i.Fragment,{key:l},u)},q=function(){var l="p-virtualscroller-loading-icon",n=D({className:l},V("loadingIcon")),o=e.loadingIcon||i.createElement(Rr,Gt({},n,{spin:!0})),u=Ye.getJSXIcon(o,Ve({},n),{props:e});if(!e.loaderDisabled&&e.showLoader&&M){var f=ue("p-virtualscroller-loader",{"p-component-overlay":!e.loadingTemplate}),m=u;if(e.loadingTemplate)m=j.map(function(E,W){return It(W,s&&{numCols:S.cols})});else if(e.loaderIconTemplate){var v={iconClassName:l,element:m,props:e};m=N.getJSXElement(e.loaderIconTemplate,v)}var I=D({className:f},V("loader"));return i.createElement("div",I,m)}return null},pe=function(){if(e.showSpacer){var l=D({ref:Ne,style:ye.current,className:"p-virtualscroller-spacer"},V("spacer"));return i.createElement("div",l)}return null},Et=function(l,n){var o=it(n),u=N.getJSXElement(e.itemTemplate,l,o);return i.createElement(i.Fragment,{key:o.index},u)},st=function(){var l=Ue();return l.map(Et)},ct=function(){var l=st(),n=ue("p-virtualscroller-content",{"p-virtualscroller-loading":M}),o=D({ref:k,style:he.current,className:n},V("content")),u=i.createElement("div",o,l);if(e.contentTemplate){var f={style:he.current,className:n,spacerStyle:ye.current,contentRef:function(v){return k.current=N.getRefElement(v)},spacerRef:function(v){return Ne.current=N.getRefElement(v)},stickyRef:function(v){return B.current=N.getRefElement(v)},items:Ue(),getItemOptions:function(v){return it(v)},children:l,element:u,props:e,loading:M,getLoaderOptions:function(v,I){return ut(v,I)},loadingTemplate:e.loadingTemplate,itemSize:e.itemSize,rows:wt(),columns:St(),vertical:p,horizontal:c,both:s};return N.getJSXElement(e.contentTemplate,f)}return u};if(e.disabled){var Pt=N.getJSXElement(e.contentTemplate,{items:e.items,rows:e.items,columns:e.columns});return i.createElement(i.Fragment,null,e.children,Pt)}else{var Rt=ue("p-virtualscroller",{"p-virtualscroller-inline":e.inline,"p-virtualscroller-both p-both-scroll":s,"p-virtualscroller-horizontal p-horizontal-scroll":c},e.className),Ft=q(),Tt=ct(),Lt=pe(),Nt=D({ref:O,className:Rt,tabIndex:e.tabIndex,style:e.style,onScroll:function(l){return de(l)}},$t.getOtherProps(e),V("root"));return i.createElement("div",Nt,Tt,Lt,Ft)}}));dr.displayName="VirtualScroller";function Qe(){return Qe=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},Qe.apply(this,arguments)}function Ge(r){"@babel/helpers - typeof";return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ge(r)}function qr(r,a){if(Ge(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var e=t.call(r,a||"default");if(Ge(e)!=="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function Jr(r){var a=qr(r,"string");return Ge(a)==="symbol"?a:String(a)}function _t(r,a,t){return a=Jr(a),a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t,r}function Yr(r){if(Array.isArray(r))return r}function Zr(r,a){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var e,d,p,c,s=[],w=!0,L=!1;try{if(p=(t=t.call(r)).next,a===0){if(Object(t)!==t)return;w=!1}else for(;!(w=(e=p.call(t)).done)&&(s.push(e.value),s.length!==a);w=!0);}catch(g){L=!0,d=g}finally{try{if(!w&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(L)throw d}}return s}}function tr(r,a){(a==null||a>r.length)&&(a=r.length);for(var t=0,e=new Array(a);t<a;t++)e[t]=r[t];return e}function Qr(r,a){if(r){if(typeof r=="string")return tr(r,a);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tr(r,a)}}function en(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(r,a){return Yr(r)||Zr(r,a)||Qr(r,a)||en()}var Vt=or.extend({defaultProps:{__TYPE:"Dropdown",appendTo:null,ariaLabel:null,ariaLabelledBy:null,autoFocus:!1,children:void 0,className:null,clearIcon:null,dataKey:null,disabled:!1,dropdownIcon:null,editable:!1,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterClearIcon:null,filterIcon:null,filterInputAutoFocus:!0,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,focusInputRef:null,id:null,inputId:null,inputRef:null,itemTemplate:null,maxLength:null,name:null,onBlur:null,onChange:null,onContextMenu:null,onFilter:null,onFocus:null,onHide:null,onMouseDown:null,onShow:null,optionDisabled:null,optionGroupChildren:"items",optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,required:!1,resetFilterOnHide:!1,scrollHeight:"200px",showClear:!1,showFilterClear:!1,showOnFocus:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,value:null,valueTemplate:null,virtualScrollerOptions:null}}),Bt=i.memo(function(r){var a=function(s){return r.ptm(s,{context:{selected:r.selected,disabled:r.disabled}})},t=function(s){r.onClick&&r.onClick({originalEvent:s,option:r.option})},e=ue("p-dropdown-item",{"p-highlight":r.selected,"p-disabled":r.disabled,"p-dropdown-item-empty":!r.label||r.label.length===0},r.option&&r.option.className),d=r.template?N.getJSXElement(r.template,r.option):r.label,p=D({className:e,style:r.style,onClick:function(s){return t(s)},"aria-label":r.label,role:"option","aria-selected":r.selected,key:r.label},a("item"));return i.createElement("li",p,d,i.createElement(Cr,null))});Bt.displayName="DropdownItem";function rr(r,a){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);a&&(e=e.filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable})),t.push.apply(t,e)}return t}function Se(r){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?rr(Object(t),!0).forEach(function(e){_t(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):rr(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}var pr=i.memo(i.forwardRef(function(r,a){var t=r.ptm,e=i.useContext(Wt);i.useRef(null);var d=i.useRef(null),p=!(r.visibleOptions&&r.visibleOptions.length)&&r.hasFilter,c={filter:function(y){return L(y)},reset:function(){return r.resetFilter()}},s=function(){r.onEnter(function(){if(r.virtualScrollerRef.current){var y=r.getSelectedOptionIndex();y!==-1&&setTimeout(function(){return r.virtualScrollerRef.current.scrollToIndex(y)},0)}})},w=function(){r.onEntered(function(){r.filter&&r.filterInputAutoFocus&&A.focus(d.current,!1)})},L=function(y){r.virtualScrollerRef.current&&r.virtualScrollerRef.current.scrollToIndex(0),r.onFilterInputChange&&r.onFilterInputChange(y)},g=function(){if(r.panelFooterTemplate){var y=N.getJSXElement(r.panelFooterTemplate,r,r.onOverlayHide),S=D({className:"p-dropdown-footer"},t("footer"));return i.createElement("div",S,y)}return null},Z=function(y,S){var z=r.getOptionGroupChildren(y);return z.map(function(P,H){var R=r.getOptionLabel(P),G=H+"_"+r.getOptionRenderKey(P),te=r.isOptionDisabled(P);return i.createElement(Bt,{key:G,label:R,option:P,style:S,template:r.itemTemplate,selected:r.isSelected(P),disabled:te,onClick:r.onOptionClick,ptm:t})})},ne=function(y,S){var z=N.getJSXElement(y,r)||qt(S?"emptyFilterMessage":"emptyMessage"),P=D({className:"p-dropdown-empty-message"},t("emptyMessage"));return i.createElement("li",P,z)},X=function(y,S){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P={height:z.props?z.props.itemSize:void 0};if(P=Se(Se({},P),y.style),r.optionGroupLabel){var H=r.optionGroupTemplate?N.getJSXElement(r.optionGroupTemplate,y,S):r.getOptionGroupLabel(y),R=Z(y,P),G=S+"_"+r.getOptionGroupRenderKey(y),te=D({className:"p-dropdown-item-group",style:P},t("itemGroup"));return i.createElement(i.Fragment,{key:G},i.createElement("li",te,H),R)}else{var Q=r.getOptionLabel(y),M=S+"_"+r.getOptionRenderKey(y),b=r.isOptionDisabled(y);return i.createElement(Bt,{key:M,label:Q,option:y,style:P,template:r.itemTemplate,selected:r.isSelected(y),disabled:b,onClick:r.onOptionClick,ptm:t})}},x=function(){return N.isNotEmpty(r.visibleOptions)?r.visibleOptions.map(X):r.hasFilter?ne(r.emptyFilterMessage,!0):ne(r.emptyMessage)},Ce=function(){if(r.showFilterClear&&r.filterValue){var y=qt("clear"),S=D({className:"p-dropdown-filter-clear-icon","aria-label":y,onClick:function(){return r.onFilterClearIconClick(function(){return A.focus(d.current)})}},t("clearIcon")),z=r.filterClearIcon||i.createElement(ur,S),P=Ye.getJSXIcon(z,Se({},S),{props:r});return P}return null},Le=function(){if(r.filter){var y=Ce(),S=ue("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!y}),z="p-dropdown-filter-icon",P=D({className:z},t("filterIcon")),H=r.filterIcon||i.createElement(cr,P),R=Ye.getJSXIcon(H,Se({},P),{props:r}),G=D({className:S},t("filterContainer")),te=D({ref:d,type:"text",autoComplete:"off",className:"p-dropdown-filter p-inputtext p-component",placeholder:r.filterPlaceholder,onKeyDown:r.onFilterInputKeyDown,onChange:function($){return L($)},value:r.filterValue},t("filterInput")),Q=i.createElement("div",G,i.createElement("input",te),y,R);if(r.filterTemplate){var M={className:S,element:Q,filterOptions:c,filterInputKeyDown:r.onFilterInputKeyDown,filterInputChange:L,filterIconClassName:"p-dropdown-filter-icon",clearIcon:y,props:r};Q=N.getJSXElement(r.filterTemplate,M)}var b=D({className:"p-dropdown-header"},t("header"));return i.createElement("div",b,Q)}return null},K=function(){if(r.virtualScrollerOptions){var y=Se(Se({},r.virtualScrollerOptions),{style:Se(Se({},r.virtualScrollerOptions.style),{height:r.scrollHeight}),className:ue("p-dropdown-items-wrapper",r.virtualScrollerOptions.className),items:r.visibleOptions,autoSize:!0,onLazyLoad:function(R){return r.virtualScrollerOptions.onLazyLoad(Se(Se({},R),{filter:r.filterValue}))},itemTemplate:function(R,G){return R&&X(R,G.index,G)},contentTemplate:function(R){var G=ue("p-dropdown-items",R.className),te=r.hasFilter?r.emptyFilterMessage:r.emptyMessage,Q=p?ne(te):R.children,M=D({ref:R.contentRef,style:R.style,className:G,role:"listbox"},t("list"));return i.createElement("ul",M,Q)}});return i.createElement(dr,Qe({ref:r.virtualScrollerRef},y,{pt:t("virtualScroller")}))}else{var S=x(),z=D({className:"p-dropdown-items-wrapper",style:{maxHeight:r.scrollHeight||"auto"}},t("wrapper")),P=D({className:"p-dropdown-items",role:"listbox"},t("list"));return i.createElement("div",z,i.createElement("ul",P,S))}},le=function(){var y=ue("p-dropdown-panel p-component",r.panelClassName,{"p-input-filled":e&&e.inputStyle==="filled"||He.inputStyle==="filled","p-ripple-disabled":e&&e.ripple===!1||He.ripple===!1}),S=Le(),z=K(),P=g(),H=D({ref:a,className:y,style:r.panelStyle,onClick:r.onClick},t("panel"));return i.createElement(Or,{nodeRef:a,classNames:"p-connected-overlay",in:r.in,timeout:{enter:120,exit:100},options:r.transitionOptions,unmountOnExit:!0,onEnter:s,onEntering:r.onEntering,onEntered:w,onExit:r.onExit,onExited:r.onExited},i.createElement("div",H,S,z,P))},U=le();return i.createElement(xr,{element:U,appendTo:r.appendTo})}));pr.displayName="DropdownPanel";function nr(r,a){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);a&&(e=e.filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable})),t.push.apply(t,e)}return t}function Ke(r){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?nr(Object(t),!0).forEach(function(e){_t(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nr(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function tn(r,a){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=rn(r))||a&&r&&typeof r.length=="number"){t&&(r=t);var e=0,d=function(){};return{s:d,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(L){throw L},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,c=!1,s;return{s:function(){t=t.call(r)},n:function(){var L=t.next();return p=L.done,L},e:function(L){c=!0,s=L},f:function(){try{!p&&t.return!=null&&t.return()}finally{if(c)throw s}}}}function rn(r,a){if(r){if(typeof r=="string")return ar(r,a);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ar(r,a)}}function ar(r,a){(a==null||a>r.length)&&(a=r.length);for(var t=0,e=new Array(a);t<a;t++)e[t]=r[t];return e}var mr=i.memo(i.forwardRef(function(r,a){var t=i.useContext(Wt),e=Vt.getProps(r,t),d=i.useState(""),p=mt(d,2),c=p[0],s=p[1],w=i.useState(!1),L=mt(w,2),g=L[0],Z=L[1],ne=i.useState(!1),X=mt(ne,2),x=X[0],Ce=X[1],Le=Vt.setMetaData({props:e,state:{filter:c,focused:g,overlayVisible:x}}),K=Le.ptm,le=i.useRef(null),U=i.useRef(null),F=i.useRef(e.inputRef),y=i.useRef(e.focusInputRef),S=i.useRef(null),z=i.useRef(null),P=i.useRef(null),H=i.useRef(null),R=e.virtualScrollerOptions&&e.virtualScrollerOptions.lazy,G=N.isNotEmpty(c),te=e.appendTo||t&&t.appendTo||He.appendTo,Q=wr({target:le,overlay:U,listener:function(n,o){var u=o.type,f=o.valid;f&&(u==="outside"?!j(n)&&fe():fe())},when:x}),M=mt(Q,2),b=M[0],h=M[1],$=function(){if(G&&!R){var n=c.trim().toLocaleLowerCase(e.filterLocale),o=e.filterBy?e.filterBy.split(","):[e.optionLabel||"label"];if(e.optionGroupLabel){var u=[],f=tn(e.options),m;try{for(f.s();!(m=f.n()).done;){var v=m.value,I=Ut.filter(de(v),o,n,e.filterMatchMode,e.filterLocale);I&&I.length&&u.push(Ke(Ke({},v),_t({},"".concat(e.optionGroupChildren),I)))}}catch(E){f.e(E)}finally{f.f()}return u}else return Ut.filter(e.options,o,n,e.filterMatchMode,e.filterLocale)}else return e.options},j=function(n){return A.hasClass(n.target,"p-dropdown-clear-icon")||A.hasClass(n.target,"p-dropdown-filter-clear-icon")},_=function(n){e.disabled||(e.onClick&&e.onClick(n),!n.defaultPrevented&&(A.hasClass(n.target,"p-dropdown-clear-icon")||n.target.tagName==="INPUT"||(!U.current||!(U.current&&U.current.contains(n.target)))&&(A.focus(y.current),x?fe():Fe())))},ae=function(n){e.showOnFocus&&!x&&Fe(),Z(!0),e.onFocus&&e.onFocus(n)},V=function(n){Z(!1),e.onBlur&&setTimeout(function(){var o=F.current?F.current.value:void 0;e.onBlur({originalEvent:n.originalEvent,value:o,stopPropagation:function(){n.originalEvent.stopPropagation()},preventDefault:function(){n.originalEvent.preventDefault()},target:{name:e.name,id:e.id,value:o}})},200)},O=function(n){Lr.emit("overlay-click",{originalEvent:n,target:le.current})},k=function(n){switch(n.which){case 40:Y(n);break;case 38:B(n);break;case 32:case 13:x?fe():Fe(),n.preventDefault();break;case 27:case 9:fe();break;default:oe(n);break}},Ne=function(n){switch(n.which){case 40:Y(n);break;case 38:B(n);break;case 13:case 27:fe(),n.preventDefault();break}},B=function(n){if(q){var o=he(we());o&&ke({originalEvent:n,option:o})}n.preventDefault()},Y=function(n){if(q)if(!x&&n.altKey)Fe();else{var o=Ie(we());o&&ke({originalEvent:n,option:o})}n.preventDefault()},Ie=function l(n){if(e.optionGroupLabel){var o=n===-1?0:n.group,u=n===-1?-1:n.option,f=Ee(de(q[o]),u);return f||(o+1!==q.length?l({group:o+1,option:-1}):null)}return Ee(q,n)},Ee=function l(n,o){var u=o+1;if(u===n.length)return null;var f=n[u];return Xe(f)?l(u):f},he=function l(n){if(n===-1)return null;if(e.optionGroupLabel){var o=n.group,u=n.option,f=ye(de(q[o]),u);return f||(o>0?l({group:o-1,option:de(q[o-1]).length}):null)}return ye(q,n)},ye=function(n,o){var u=o-1;if(u<0)return null;var f=n[u];return Xe(f)?he(u):f},oe=function(n){z.current&&clearTimeout(z.current);var o=n.key;if(!(o==="Shift"||o==="Control"||o==="Alt")){if(H.current===o?P.current=o:P.current=P.current?P.current+o:o,H.current=o,P.current){var u=we(),f=e.optionGroupLabel?se(u):be(u+1);f&&ke({originalEvent:n,option:f})}z.current=setTimeout(function(){P.current=null},250)}},be=function(n){return P.current?Pe(n,q.length)||Pe(0,n):null},Pe=function(n,o){for(var u=n;u<o;u++){var f=q[u];if(ce(f))return f}return null},se=function(n){for(var o=n===-1?{group:0,option:-1}:n,u=o.group;u<q.length;u++)for(var f=de(q[u]),m=o.group===u?o.option+1:0;m<f.length;m++)if(ce(f[m]))return f[m];for(var v=0;v<=o.group;v++)for(var I=de(q[v]),E=0;E<(o.group===v?o.option:I.length);E++)if(ce(I[E]))return I[E];return null},ce=function(n){var o=ie(n);return o?(o=o.toLocaleLowerCase(e.filterLocale),o.startsWith(P.current.toLocaleLowerCase(e.filterLocale))):!1},Re=function(n){e.onChange&&e.onChange({originalEvent:n.originalEvent,value:n.target.value,stopPropagation:function(){n.originalEvent.stopPropagation()},preventDefault:function(){n.originalEvent.preventDefault()},target:{name:e.name,id:e.id,value:n.target.value}})},vt=function(n){Z(!0),fe(),e.onFocus&&e.onFocus(n)},gt=function(n){var o=n.option;o.disabled||(ke(n),A.focus(y.current)),fe()},ht=function(n){var o=n.target.value;s(o),e.onFilter&&e.onFilter({originalEvent:n,filter:o})},yt=function(n){Be(n)},Be=function(n){s(""),e.onFilter&&e.onFilter({filter:""}),n&&n()},bt=function(n){e.onChange&&e.onChange({originalEvent:n,value:void 0,stopPropagation:function(){n.stopPropagation()},preventDefault:function(){n.preventDefault()},target:{name:e.name,id:e.id,value:void 0}}),_e()},ke=function(n){if(pe!==n.option){_e(n.option);var o=ze(n.option);e.onChange&&e.onChange({originalEvent:n.originalEvent,value:o,stopPropagation:function(){n.originalEvent.stopPropagation()},preventDefault:function(){n.originalEvent.preventDefault()},target:{name:e.name,id:e.id,value:o}})}},we=function(n){if(n=n||q,e.value!=null&&n)if(e.optionGroupLabel)for(var o=0;o<n.length;o++){var u=Ae(e.value,de(n[o]));if(u!==-1)return{group:o,option:u}}else return Ae(e.value,n);return-1},et=function(){return e.optionValue?null:e.dataKey},Ae=function(n,o){var u=et();return o.findIndex(function(f){return N.equals(n,ze(f),u)})},We=function(n){return N.equals(e.value,ze(n),et())},Fe=function(){Ce(!0)},fe=function(){Ce(!1)},wt=function(n){Mt.set("overlay",U.current,t&&t.autoZIndex||He.autoZIndex,t&&t.zIndex.overlay||He.zIndex.overlay),nt(),n&&n()},St=function(n){n&&n(),b(),e.onShow&&e.onShow()},tt=function(){h()},rt=function(){e.filter&&e.resetFilterOnHide&&Be(),Mt.clear(U.current),e.onHide&&e.onHide()},nt=function(){A.alignOverlay(U.current,F.current.parentElement,e.appendTo||t&&t.appendTo||He.appendTo)},Ct=function(){var n=A.findSingle(U.current,"li.p-highlight");n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})},_e=function(n){F.current&&(F.current.value=n?ie(n):e.value||"")},ie=function(n){return e.optionLabel?N.resolveFieldData(n,e.optionLabel):n&&n.label!==void 0?n.label:n},ze=function(n){return e.optionValue?N.resolveFieldData(n,e.optionValue):n&&n.value!==void 0?n.value:n},xt=function(n){return e.dataKey?N.resolveFieldData(n,e.dataKey):ie(n)},Xe=function(n){return e.optionDisabled?N.isFunction(e.optionDisabled)?e.optionDisabled(n):N.resolveFieldData(n,e.optionDisabled):n&&n.disabled!==void 0?n.disabled:!1},at=function(n){return N.resolveFieldData(n,e.optionGroupLabel)},lt=function(n){return N.resolveFieldData(n,e.optionGroupLabel)},de=function(n){return N.resolveFieldData(n,e.optionGroupChildren)},ot=function(){if(e.editable&&F.current){var n=pe?ie(pe):null,o=n||e.value||"";F.current.value=o}},it=function(){var n=we(e.options);return n!==-1?e.optionGroupLabel?de(e.options[n.group])[n.option]:e.options[n]:null};i.useImperativeHandle(a,function(){return{props:e,show:Fe,hide:fe,focus:function(){return A.focus(y.current)},getElement:function(){return le.current},getOverlay:function(){return U.current},getInput:function(){return F.current},getFocusInput:function(){return y.current},getVirtualScroller:function(){return S.current}}}),i.useEffect(function(){N.combinedRefs(F,e.inputRef),N.combinedRefs(y,e.focusInputRef)},[F,e.inputRef,y,e.focusInputRef]),ir(function(){e.autoFocus&&A.focus(y.current,e.autoFocus)}),Te(function(){x&&e.value&&Ct()},[x,e.value]),Te(function(){x&&c&&e.filter&&nt()},[x,c,e.filter]),Te(function(){c&&(!e.options||e.options.length===0)&&s(""),ot(),F.current&&(F.current.selectedIndex=1)}),Sr(function(){Mt.clear(U.current)});var ut=function(){var n={value:"",label:e.placeholder};if(pe){var o=ze(pe);n={value:Ge(o)==="object"?e.options.findIndex(function(v){return v===o}):o,label:ie(pe)}}var u=D({className:"p-hidden-accessible p-dropdown-hidden-select"},K("hiddenSelectedMessage")),f=D({ref:F,required:e.required,defaultValue:n.value,name:e.name,tabIndex:-1,"aria-hidden":"true"},K("select")),m=D({value:n.value},K("option"));return i.createElement("div",u,i.createElement("select",f,i.createElement("option",m,n.label)))},Ue=function(){var n=D({className:"p-hidden-accessible"},K("hiddenSelectedMessage")),o=D(Ke({ref:y,id:e.inputId,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:ae,onBlur:V,onKeyDown:k,disabled:e.disabled,tabIndex:e.tabIndex},ct),K("input"));return i.createElement("div",n,i.createElement("input",o))},Ot=function(){var n=N.isNotEmpty(pe)?ie(pe):null;if(e.editable){var o=n||e.value||"",u=D(Ke({ref:F,type:"text",defaultValue:o,className:"p-dropdown-label p-inputtext",disabled:e.disabled,placeholder:e.placeholder,maxLength:e.maxLength,onInput:Re,onFocus:vt,onBlur:V,"aria-haspopup":"listbox"},ct),K("input"));return i.createElement("input",u)}else{var f=ue("p-dropdown-label p-inputtext",{"p-placeholder":n===null&&e.placeholder,"p-dropdown-label-empty":n===null&&!e.placeholder}),m=e.valueTemplate?N.getJSXElement(e.valueTemplate,pe,e):n||e.placeholder||"empty",v=D({ref:F,className:f},K("input"));return i.createElement("span",v,m)}},Me=function(){if(e.value!=null&&e.showClear&&!e.disabled){var n=ue("p-dropdown-clear-icon p-clickable"),o=D({className:n,onPointerUp:bt},K("clearIcon")),u=e.clearIcon||i.createElement(ur,o);return Ye.getJSXIcon(u,Ke({},o),{props:e})}return null},It=function(){var n=ue("p-dropdown-trigger-icon p-clickable"),o=D({className:n},K("dropdownIcon")),u=e.dropdownIcon||i.createElement(sr,o),f=Ye.getJSXIcon(u,Ke({},o),{props:e}),m=e.placeholder||e.ariaLabel,v=D({className:"p-dropdown-trigger",role:"button","aria-haspopup":"listbox","aria-expanded":x,"aria-label":m},K("trigger"));return i.createElement("div",v,f)},q=$(),pe=it(),Et=N.isNotEmpty(e.tooltip),st=Vt.getOtherProps(e),ct=N.reduceKeys(st,A.ARIA_PROPS),Pt=ue("p-dropdown p-component p-inputwrapper",{"p-disabled":e.disabled,"p-focus":g,"p-dropdown-clearable":e.showClear&&!e.disabled,"p-inputwrapper-filled":N.isNotEmpty(e.value),"p-inputwrapper-focus":g||x},e.className),Rt=ut(),Ft=Ue(),Tt=Ot(),Lt=It(),Nt=Me(),C=D({id:e.id,ref:le,className:Pt,style:e.style,onClick:function(n){return _(n)},onMouseDown:e.onMouseDown,onContextMenu:e.onContextMenu},st,K("root"));return i.createElement(i.Fragment,null,i.createElement("div",C,Ft,Rt,Tt,Nt,Lt,i.createElement(pr,Qe({ref:U,visibleOptions:q,virtualScrollerRef:S},e,{appendTo:te,onClick:O,onOptionClick:gt,filterValue:c,hasFilter:G,onFilterClearIconClick:yt,resetFilter:Be,onFilterInputKeyDown:Ne,onFilterInputChange:ht,getOptionLabel:ie,getOptionRenderKey:xt,isOptionDisabled:Xe,getOptionGroupChildren:de,getOptionGroupLabel:lt,getOptionGroupRenderKey:at,isSelected:We,getSelectedOptionIndex:we,in:x,onEnter:wt,onEntered:St,onExit:tt,onExited:rt,ptm:K}))),Et&&i.createElement(Fr,Qe({target:le,content:e.tooltip},e.tooltipOptions,{pt:K("tooltip")})))}));mr.displayName="Dropdown";const nn=()=>{const r="0123456789ABCDEF";let a="#";for(let t=0;t<6;t++)a+=r[Math.floor(Math.random()*16)];return a};const an=()=>{var F,y,S,z,P,H,R,G,te,Q,M;const r=Ir(),{state:a,setPolygons:t,showToast:e}=Er(),d="Item",p=[{name:"Catheter",code:"CAT"},{name:"Unknown Label",code:"UK"}],c=i.useRef(null),[s,w]=i.useState(null),[L,g]=i.useState([]),[Z,ne]=i.useState(!1),[X,x]=i.useState(0);i.useEffect(()=>{var $;const b=c.current,h=b==null?void 0:b.getContext("2d");if(h){h.clearRect(0,0,b==null?void 0:b.width,b==null?void 0:b.height);const j=new Image;j.src=($=a==null?void 0:a.imageSelected)==null?void 0:$.url,j.onload=()=>{var Ne;const _=j.width,ae=j.height,V=b.width,O=ae/_*V;b.width=V,b.height=O;const k=_/V;x(k),h==null||h.clearRect(0,0,V,O),h==null||h.drawImage(j,0,0,V,O),(Ne=a.polygons)==null||Ne.forEach(B=>{const Y=new Path2D,[Ie,...Ee]=B.points;Y.moveTo(Ie.x,Ie.y),Ee.forEach(se=>{Y.lineTo(se.x,se.y)}),Y.closePath(),h.strokeStyle=B.color,h.lineWidth=2,h.fillStyle=`${B.color}60`,h.fill(Y);const he=B.points.reduce((se,ce)=>se+ce.x,0)/B.points.length,ye=B.points.reduce((se,ce)=>se+ce.y,0)/B.points.length;h.fillStyle="white";const oe=4,be=h.measureText(B.label).width+5,Pe=14;h.fillRect(he-be/2-oe,ye-Pe/2-oe,be+2*oe,Pe+1*oe),h.fillStyle="black",h.font="12px Arial",h.textAlign="center",h.textBaseline="middle",h.fillText(B.label,he,ye),h.stroke(Y)}),L.forEach(B=>{h.beginPath(),h.arc(B.x,B.y,3,0,2*Math.PI),h.fillStyle="blue",h.fill()})}}},[a.polygons,L,(F=a==null?void 0:a.imageSelected)==null?void 0:F.url]);const Ce=b=>{var ae;const h=c.current,$=h==null?void 0:h.getBoundingClientRect(),j=b.clientX-$.left,_=b.clientY-$.top;if(!s)g([{x:j,y:_}]),w({color:nn(),label:`${d} ${((ae=a.polygons)==null?void 0:ae.length)+1}`,points:[{x:j,y:_}],units:0,bbox:[j*X,_*X,j*X,_*X]});else{const V=[...s.points,{x:j,y:_}];w({...s,points:V,bbox:Le(V)}),g([...L,{x:j,y:_}])}},Le=(b,h=20)=>{if(b.length===0)return[0,0,0,0];let $=b[0].x,j=b[0].y,_=b[0].x,ae=b[0].y;for(let V=1;V<b.length;V++){const{x:O,y:k}=b[V];$=Math.min($,O),j=Math.min(j,k),_=Math.max(_,O),ae=Math.max(ae,k)}return $-=h,j-=h,_+=h,ae+=h,[$,j,_,ae]},K=()=>{if(s&&s.points.length>=3){const b=[...a.polygons,s];t(b),w(null),g([]),ne(!1),e("success","Success","Polygon added succesfully")}else e("warn","Warning","A polygon must have at least 3 points to be completed.")},le=b=>{const h=[...a.polygons];h.splice(b,1),t(h),e("warn","Warning","Polygon deleted")},U=(b,h)=>{if(h){const $=[...a.polygons];$[b].label=h.name,t($),e("success","Success","Label Updated")}};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"customScrollbar h-full py-3 px-1 sm:px-3 my-3 mx-0 sm:mx-3 flex flex-col justify-around items-center bg-metallic-brown rounded-lg shadow-md overflow-y-auto",children:T.jsxs("div",{className:"w-full h-full flex flex-col gap-y-3 md:gap-y-5 overflow-y-auto",children:[T.jsxs("div",{className:"px-2 md:px-0 flex justify-between items-center",children:[T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("span",{className:"text-lg md:text-xl font-medium text-naples-yellow",children:"Draw required polygons"}),T.jsx("span",{className:"text-sm md:text-base text-bud-green font-medium",children:"Identify and select the correct annotations in the image"})]}),T.jsx("div",{className:"hidden md:flex flex-row gap-x-10",children:T.jsx(Je,{disabled:((S=(y=a==null?void 0:a.imageSelected)==null?void 0:y.url)==null?void 0:S.length)<=0||((z=a.polygons)==null?void 0:z.length)<1,icon:"pi pi-check",label:"Save & Continue",className:"h-10 text-metallic-brown bg-naples-yellow border-naples-yellow",onClick:()=>{i.startTransition(()=>{r("/preview")})}})})]}),T.jsxs("div",{className:"w-full h-full flex flex-col md:flex-row gap-2",children:[T.jsx("div",{className:"w-full md:w-2/4 lg:w-2/5 h-fit md:mb-0 mx-auto",children:T.jsx("div",{className:"w-fit h-fit m-auto border-2 border-ochre rounded-lg",children:T.jsx("canvas",{className:"mx-auto rounded-lg",ref:c,onClick:b=>Z?Ce(b):""})})}),T.jsx("div",{className:"w-full md:w-2/4 lg:w-3/5",children:T.jsxs("div",{className:"w-full p-3 rounded-xl bg-fern-green",children:[T.jsxs("div",{className:"flex justify-between items-center text-base text-blue-900 pb-2",children:[T.jsxs("span",{className:"text-base sm:text-lg text-naples-yellow font-semibold",children:["Annotations (",((P=a.polygons)==null?void 0:P.length)<10?`0${(H=a.polygons)==null?void 0:H.length}`:`${(R=a.polygons)==null?void 0:R.length}`,")"]}),!Z&&T.jsx(Je,{disabled:a.imageSelected.url==="",icon:"pi pi-plus",label:"Add Annotation",className:"h-10 px-2 md:px-5 text-xs sm:text-sm text-naples-yellow border-2 border-naples-yellow bg-transparent",onClick:()=>ne(!0)}),Z&&T.jsx(Je,{icon:"pi pi-plus",label:"Complete Polygon",onClick:K,className:"h-10 px-2 md:px-5 text-xs sm:text-sm text-naples-yellow border-2 border-naples-yellow bg-transparent"})]}),T.jsx("div",{children:(G=a.polygons)==null?void 0:G.map((b,h)=>T.jsx("div",{className:"mt-2",children:T.jsx(Tr,{className:"annotationPanel w-full mb-1",collapsed:!0,header:T.jsxs("div",{className:"w-full h-full flex justify-between items-center",children:[T.jsx("span",{className:"text-base sm:text-lg text-metallic-brown",children:b==null?void 0:b.label}),T.jsx(Je,{icon:"pi pi-trash",onClick:()=>le(h),className:"p-2 text-sm bg-transparent text-metallic-brown border-0 rounded-full"})]}),toggleable:!0,children:T.jsx("div",{className:"w-full flex items-center gap-4",children:T.jsx(mr,{value:b==null?void 0:b.label,onChange:$=>U(h,$.value),options:p,optionLabel:"name",placeholder:"Select an Annotation label",className:"w-full md:w-14rem"})})})},h))})]})})]})]})}),T.jsx("div",{className:"w-full p-2 flex md:hidden flex-col items-center sticky bottom-0 left-0 right-0 bg-metallic-brown rounded-t-3xl text-xs",children:T.jsx("div",{className:"flex flex-row gap-x-10",children:T.jsx(Je,{disabled:((Q=(te=a==null?void 0:a.imageSelected)==null?void 0:te.url)==null?void 0:Q.length)<=0||((M=a.polygons)==null?void 0:M.length)<1,icon:"pi pi-check",label:"Save & Continue",className:"h-10 text-metallic-brown bg-naples-yellow border-naples-yellow",onClick:()=>{i.startTransition(()=>{r("/preview")})}})})})]})},cn=()=>T.jsxs("div",{className:"w-screen h-[100dvh] relative flex flex-col bg-ochre",children:[T.jsx(Pr,{}),T.jsx(an,{})]});export{cn as default};
